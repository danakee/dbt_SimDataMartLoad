models:

  - name: stg_center
    description: The stg_center model is a staging table that contains information
      about various centers. It includes details such as the center's primary
      key, ID, name, address, city, state, postal code, country, airport, email
      address, phone number, fax number, speed dial code, night phone number,
      shop phone number, cell phone number, maintenance phone number, shipping
      address, city, state, postal code, country, active status, location type
      code, location type description, region, region description, manager's
      first name, last name, email, the time of the last change, and the time
      the stage was created. The data is extracted from the
      'employee2.tblLocation', 'employee2.tblLocationType',
      'employee2.tblEmployee', and 'employee2.tblRegion' source tables. The
      model also logs the process execution details, including the status,
      message, number of rows inserted and deleted, final row count, process end
      time, and any errors that occurred.
    columns:
      - name: CenterPKey
        description: Primary key for the Center. This is a unique identifier for each
          center.
        data_type: int
        quote: true
      - name: CenterID
        description: The ID of the Center. This is a unique identifier for each center,
          typically used in internal operations.
        data_type: varchar
        quote: true
      - name: CenterName
        description: The name of the Center. This is a human-readable identifier for
          each center.
        data_type: varchar
        quote: true
      - name: CenterAddress1
        description: The primary address line for the center. This typically includes
          street number and name.
        data_type: varchar
        quote: true
      - name: CenterAddress2
        description: The secondary address line for the center. This typically includes
          suite or apartment number, or other additional address information.
        data_type: varchar
        quote: true
      - name: CenterCityName
        description: The name of the city where the center is located.
        data_type: varchar
        quote: true
      - name: CenterStateCode
        description: The state code where the center is located.
        data_type: varchar
        quote: true
      - name: CenterPostalCode
        description: The postal code of the center's location.
        data_type: varchar
        quote: true
      - name: CenterCountryName
        description: The name of the country where the center is located.
        data_type: varchar
        quote: true
      - name: CenterAirportName
        description: The name of the airport associated with the center.
        data_type: varchar
        quote: true
      - name: CenterEmailAddress
        description: The email address associated with the center.
        data_type: varchar
        quote: true
      - name: CenterPhoneNumber
        description: The phone number associated with the center.
        data_type: varchar
        quote: true
      - name: CenterFaxNumber
        description: The fax number associated with the center. This is a string field
          that can contain any valid fax number.
        data_type: varchar
        quote: true
      - name: CenterSpeedDialCode
        description: The speed dial code for the center. This is a string field that can
          contain any valid speed dial code.
        data_type: varchar
        quote: true
      - name: CenterNightPhoneNumber
        description: The phone number to be used for contacting the center during night
          hours. This is a string field that can contain any valid phone number.
        data_type: varchar
        quote: true
      - name: CenterShopPhoneNumber
        description: This column represents the phone number of the center's shop. It is
          extracted from the 'shop_number' field of the 'tblLocation' table in
          the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: CenterCellPhoneNumber
        description: This column represents the cell phone number of the center. It is
          extracted from the 'cell_phone' field of the 'tblLocation' table in
          the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: CenterMaintenancePhoneNumber
        description: This column represents the maintenance phone number of the center.
          It is extracted from the 'maint_phone' field of the 'tblLocation'
          table in the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: CenterShippingAddress1
        description: The first line of the shipping address for the center.
        data_type: varchar
        quote: true
      - name: CenterShippingAddress2
        description: The second line of the shipping address for the center, typically
          includes suite or apartment number.
        data_type: varchar
        quote: true
      - name: CenterShippingCityName
        description: The city name of the shipping address for the center.
        data_type: varchar
        quote: true
      - name: CenterShippingStateCode
        description: The state code for the shipping address of the center.
        data_type: varchar
        quote: true
      - name: CenterShippingPostalCode
        description: The postal code for the shipping address of the center.
        data_type: varchar
        quote: true
      - name: CenterShippingCountryName
        description: The country name for the shipping address of the center.
        data_type: varchar
        quote: true
      - name: IsActive
        description: A boolean flag indicating whether the center is active or not. 1
          indicates active, 0 indicates inactive.
        data_type: bit
        quote: true
      - name: CenterLocationTypeCode
        description: The code representing the type of location for the center. This is
          a string value derived from the 'name' column of the 'tblLocationType'
          table in the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: CenterLocationTypeDescription
        description: The description of the type of location for the center. This is a
          string value derived from the 'description' column of the
          'tblLocationType' table in the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: CenterRegion
        description: The name of the region where the center is located.
        data_type: varchar
        quote: true
      - name: CenterRegionDescription
        description: A detailed description of the region where the center is located.
        data_type: varchar
        quote: true
      - name: CenterManagerFirstName
        description: The first name of the manager of the center.
        data_type: varchar
        quote: true
      - name: CenterManagerLastName
        description: This column contains the last name of the center manager.
        data_type: varchar
        quote: true
      - name: CenterManagerEmail
        description: This column contains the email address of the center manager.
        data_type: varchar
        quote: true
      - name: HvrChangeTime
        description: This column contains the timestamp of the most recent change made
          to the record.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDatetime
        description: This column represents the date and time when the record was
          created in the staging table. It is automatically populated with the
          system date and time at the moment of record insertion. The data type
          of this column is datetimeoffset(3), which includes both date and
          time, and is timezone aware.
        data_type: datetimeoffset
        quote: true

  - name: stg_budget_hierarchy
    description: The stg_budget_hierarchy model is a staging table that contains
      budget hierarchy data. It includes columns for budget category type code,
      budget category name, budget item code, budget item name, and the time of
      the last change. The model also logs the process execution, including the
      number of rows inserted and deleted, the initial and final row count, and
      any errors that occurred. The data is sourced from the MaterialBudgetItem,
      MaterialBudgetItemGroup, EACDept, and DeptPool tables in the EAC_Report
      database.
    columns:
      - name: BudgetCategoryTypeCode
        description: This column represents the type code of the budget category. It can
          either be 'Labor' or 'Non-Labor'.
        data_type: varchar
        quote: true
      - name: BudgetCategoryName
        description: This column represents the name of the budget category. It is
          derived from the 'Name' column of the 'MaterialBudgetItemGroup' or
          'DeptPool' table, depending on the 'BudgetCategoryTypeCode'.
        data_type: varchar
        quote: true
      - name: BudgetItemCode
        description: This column represents the code of the budget item. It is derived
          from the 'Name' column of the 'MaterialBudgetItem' or 'EACDept' table,
          depending on the 'BudgetCategoryTypeCode'.
        data_type: varchar
        quote: true
      - name: BudgetItemName
        description: This column represents the name of the budget item. It is derived
          from the 'Name' field in the 'EACDept' table for labor budget items
          and from the 'Description' field in the 'MaterialBudgetItem' table for
          non-labor budget items.
        data_type: varchar
        quote: true
      - name: HvrChangeTime
        description: This column represents the most recent change time among the source
          tables. It is derived from the maximum 'hvr_change_time' field among
          the 'MaterialBudgetItem', 'MaterialBudgetItemGroup', 'EACDept', and
          'DeptPool' tables.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDateTime
        description: This column represents the date and time when the staging process
          was executed. It is automatically generated during the staging
          process.
        data_type: datetimeoffset
        quote: true

  - name: stg_department_group
    description: The stg_department_group model is a staging table that holds
      department group data. It is populated from the 'employee2.tblDeptGroup'
      and 'employee2.tblDepartment' source tables. The model includes columns
      for the primary key of the department, department ID, department group
      name, department group description, the time of the last change in the
      source system (HvrChangeTime), and the time the record was created in the
      staging table (StageCreatedDatetime). The model is refreshed with data
      where the HvrChangeTime is later than '2024-10-18T10:04:06.043-04:00'. The
      process of populating the model is logged in the
      'SimulationsAnalyticsLogging.dbo.DBTProcessExecutionLog' table, including
      the number of rows inserted and deleted, and any errors that occurred.
    columns:
      - name: DepartmentPKey
        description: Primary key of the department. This is a unique identifier for each
          department.
        data_type: int
        quote: true
      - name: DepartmentId
        description: The ID of the department. This is a unique identifier for each
          department, but unlike the PKey, this ID is used for external
          references.
        data_type: varchar
        quote: true
      - name: DepartmentGroupName
        description: The name of the department group. This is a descriptive name for
          the group that the department belongs to.
        data_type: varchar
        quote: true
      - name: DepartmentGroupDescription
        description: This column contains the description of the department group. It is
          derived from the 'Description' column of the 'tblDeptGroup' table in
          the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: HvrChangeTime
        description: This column records the most recent change time between the
          'hvr_change_time' columns of the 'tblDeptGroup' and 'tblDepartment'
          tables in the 'Employee2' database. It is used to track changes in the
          source data.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDateTime
        description: This column records the datetime when the staging process was
          executed. It is automatically populated with the system datetime at
          the time of execution.
        data_type: datetimeoffset
        quote: true

  - name: stg_department
    description: The stg_department model is a staging table that contains
      department data from various sources. It includes columns for department
      primary key, department id, location id, department location name,
      department name, EAC department name, EAC group id, EAC group name,
      division id code, division name, parent division id code, parent division
      name, location type code, location type description, department head id,
      department pool id, department pool name, department head name, department
      head title, is active status, HVR change time, and stage created datetime.
      The data is refreshed and logged in the DBTProcessExecutionLog. If the
      process fails, an error message is raised.
    columns:
      - name: DepartmentPKey
        description: The primary key of the department. This is a unique identifier for
          each department in the database.
        data_type: int
        quote: true
      - name: DepartmentId
        description: The ID of the department. This is a unique identifier for each
          department, but unlike the primary key, it may not be unique across
          all tables.
        data_type: varchar
        quote: true
      - name: LocationId
        description: The ID of the location where the department is situated. This is a
          foreign key that links to the location table.
        data_type: varchar
        quote: true
      - name: DepartmentLocationName
        description: The name of the location where the department is situated. This is
          derived from the 'Name' column of the 'tblLocation' table in the
          'Employee2' database.
        data_type: varchar
        quote: true
      - name: DepartmentName
        description: The name of the department. This is derived from the 'Name' column
          of the 'tblDepartment' table in the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: EACDepartmentName
        description: The name of the department as per the EAC report. This is derived
          from the 'Name' column of the 'EACDept' table in the 'EAC_Report'
          database.
        data_type: varchar
        quote: true
      - name: EACGroupId
        description: The unique identifier for the EAC Group. This is a foreign key that
          links to the EAC_Groups table in the EAC_Report database.
        data_type: int
        quote: true
      - name: EACGroupName
        description: The name of the EAC Group. This is derived from the eac_group_desc
          column in the EAC_Groups table in the EAC_Report database.
        data_type: varchar
        quote: true
      - name: DivisionIdCode
        description: The unique identifier for the Division. This is a foreign key that
          links to the tblDivision table in the Employee2 database.
        data_type: varchar
        quote: true
      - name: DivisionName
        description: The name of the division associated with the department.
        data_type: varchar
        quote: true
      - name: ParentDivisionIdCode
        description: The unique identifier code of the parent division associated with
          the department.
        data_type: varchar
        quote: true
      - name: ParentDivisionName
        description: The name of the parent division associated with the department.
        data_type: varchar
        quote: true
      - name: LocationTypeCode
        description: The code representing the type of location for the department. This
          is derived from the 'tblLocationType' table in the 'Employee2'
          database.
        data_type: varchar
        quote: true
      - name: LocationTypeDescription
        description: A description of the type of location for the department. This is
          derived from the 'tblLocationType' table in the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: DepartmentHeadId
        description: The unique identifier for the head of the department. This is
          derived from the 'tblEmployee' table in the 'Employee2' database.
        data_type: int
        quote: true
      - name: DepartmentPoolId
        description: The unique identifier for the department pool. This is a foreign
          key that links to the department pool table.
        data_type: int
        quote: true
      - name: DepartmentPoolName
        description: The name of the department pool. This is a descriptive field that
          provides the name of the department pool associated with the
          department.
        data_type: varchar
        quote: true
      - name: DepartmentHeadName
        description: The name of the head of the department. This is a concatenated
          field that combines the first and last name of the department head.
        data_type: varchar
        quote: true
      - name: DepartmentHeadTitle
        description: The job title of the department head. This is a string value that
          is derived from the 'Title' column of the 'tblEmpJobTitle' table in
          the 'Employee2' database.
        data_type: varchar
        quote: true
      - name: IsActive
        description: A boolean flag indicating whether the department is active or not.
          This is a binary value (1 or 0) that is derived from the 'Active'
          column of the 'tblDepartment' table in the 'Employee2' database.
        data_type: bit
        quote: true
      - name: HvrChangeTime
        description: The timestamp of the most recent change made to any of the source
          tables involved in the creation of the 'StageDepartment' table. This
          is a datetime value that is derived from the 'hvr_change_time' column
          of the source tables in the 'Employee2' and 'EAC_Report' databases.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDateTime
        description: This column records the date and time when the record was created
          in the staging table. The value is automatically generated by the
          system at the time of record creation. The data type is
          datetimeoffset(3), which includes both date and time, and is timezone
          aware.
        data_type: datetimeoffset
        quote: true

  - name: stg_issue
    description: The stg_issue model is a staging table that contains information
      about issues related to various simulators. It includes details such as
      the issue ID, issue date and time, simulator key and ID, issue
      description, issue type, priority, status, category, classification, and
      other related details. The model also includes information about the
      training impact of the issue, the job number, document number, charge
      code, due date, and contact information of the person who reported the
      issue. The model is updated through a SQL script that inserts new records
      into the table and logs the process execution.
    columns:
      - name: IssuePKey
        description: This is the primary key for the issue. It is a unique identifier
          for each issue in the database.
        data_type: int
        quote: true
      - name: IssueId
        description: This is the ID of the issue. It is a unique identifier for each
          issue and is used for referencing the issue in other tables or
          systems.
        data_type: int
        quote: true
      - name: IssueDate
        description: This is the date when the issue was created or reported. It is
          stored in the format YYYY-MM-DD.
        data_type: date
        quote: true
      - name: IssueTime
        description: The time when the issue was reported. This is stored as a time data
          type.
        data_type: time
        quote: true
      - name: SimulatorPKey
        description: The primary key of the simulator where the issue occurred. This is
          stored as an integer data type.
        data_type: int
        quote: true
      - name: SimulatorId
        description: The unique identifier of the simulator where the issue occurred.
          This is stored as a string data type.
        data_type: int
        quote: true
      - name: IsAffectedSystem
        description: This column indicates whether the system is affected by the issue.
          It is a boolean value where '1' indicates the system is affected and
          '0' indicates it is not.
        data_type: bit
        quote: true
      - name: AffectedConfigurationList
        description: This column contains a list of configurations that are affected by
          the issue. The configurations are represented as strings and are
          separated by '|'.
        data_type: varchar
        quote: true
      - name: CenterKey
        description: This column represents the unique identifier for the center where
          the issue occurred. It is currently set to NULL in the SQL script,
          indicating that this information may not be available or relevant.
        data_type: int
        quote: true
      - name: IssueDescription
        description: This column contains the detailed description of the issue. It is a
          text field that provides information about the problem encountered.
        data_type: varchar
        quote: true
      - name: IssueTypeDescription
        description: This column describes the type of the issue. It categorizes the
          issue based on its nature and helps in understanding the context of
          the problem.
        data_type: varchar
        quote: true
      - name: IssuePriorityNumber
        description: This column represents the priority of the issue. It is a numerical
          value that indicates the urgency or importance of the issue. Higher
          numbers usually represent higher priority.
        data_type: varchar
        quote: true
      - name: IssuePriority
        description: This column represents the priority level of the issue. It is
          derived from the 'tblPriority' table in the 'FSI_Issues2' database.
          The priority level is a description of the urgency of the issue.
        data_type: varchar
        quote: true
      - name: IssueStatusName
        description: This column represents the current status of the issue. It is
          derived from the 'tblStatus' table in the 'FSI_Issues2' database. The
          status name provides a brief description of the current state of the
          issue.
        data_type: varchar
        quote: true
      - name: IssueCategoryName
        description: This column represents the category of the issue. It is derived
          from the 'tblIssueCategory' table in the 'FSI_Issues2' database. The
          category name provides a classification for the issue.
        data_type: varchar
        quote: true
      - name: IssueClassificationName
        description: This column represents the classification name of the issue. It is
          a string type and can contain various categories of issues.
        data_type: varchar
        quote: true
      - name: IssueCloseTimestamp
        description: This column represents the timestamp when the issue was closed. It
          is a datetime type and is recorded in the format 'YYYY-MM-DD
          HH:MI:SS'.
        data_type: datetime
        quote: true
      - name: TrainingRestrictionText
        description: This column represents any restrictions or special instructions
          related to training due to the issue. It is a string type and can
          contain various instructions or restrictions.
        data_type: varchar
        quote: true
      - name: IsCriticalTrainingIssue
        description: A boolean flag indicating whether the issue is critical for
          training. If true, the issue is critical and may impact training
          sessions.
        data_type: bit
        quote: true
      - name: TrainingCategoryName
        description: The name of the category that the training issue falls under. This
          helps in classifying the issue for better understanding and
          resolution.
        data_type: nvarchar
        quote: true
      - name: JobNumber
        description: The unique identifier for the job or project associated with the
          issue. This helps in tracking the issue back to a specific job or
          project.
        data_type: varchar
        quote: true
      - name: IsMMI
        description: A boolean flag indicating whether the issue is related to
          Man-Machine Interface (MMI).
        data_type: bit
        quote: true
      - name: DocumentNumber
        description: The unique identifier for the document associated with the issue.
        data_type: varchar
        quote: true
      - name: ChargeCode
        description: The code used for billing purposes related to the issue.
        data_type: varchar
        quote: true
      - name: DueDate
        description: The date by which the issue is expected to be resolved. It is
          represented in the format YYYY-MM-DD.
        data_type: date
        quote: true
      - name: WrittenByName
        description: The name of the person who reported or documented the issue.
        data_type: varchar
        quote: true
      - name: WrittenByContactInfoTxt
        description: The contact information of the person who reported or documented
          the issue. This could include email, phone number, or other relevant
          contact details.
        data_type: varchar
        quote: true
      - name: RegulatoryAgencyName
        description: The name of the regulatory agency associated with the issue.
        data_type: varchar
        quote: true
      - name: LostTimeTypeDescription
        description: Description of the type of lost time associated with the issue.
        data_type: varchar
        quote: true
      - name: LostTimeMinutesNumber
        description: The number of minutes lost due to the issue.
        data_type: int
        quote: true
      - name: FSTDLostTimeMinutesNumber
        description: This column represents the number of minutes lost due to the issue
          in the Flight Simulator Training Device (FSTD). It is an integer
          value.
        data_type: int
        quote: true
      - name: FSTDTypeName
        description: This column represents the type of the Flight Simulator Training
          Device (FSTD) where the issue occurred. It is a string value.
        data_type: varchar
        quote: true
      - name: RootCauseTypeName
        description: This column represents the name of the root cause type of the
          issue. It is a string value.
        data_type: varchar
        quote: true
      - name: RootCauseTypeDescription
        description: This column contains the description of the root cause type
          associated with the issue. It provides more detailed information about
          the root cause type.
        data_type: varchar
        quote: true
      - name: HvrChangeTime
        description: This column records the timestamp of the most recent change made to
          the data related to the issue. It is used to track data modifications
          and updates.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDateTime
        description: This column records the timestamp when the stage was created. It is
          used to track the creation time of each stage in the process.
        data_type: datetimeoffset
        quote: true

  - name: stg_system
    description: The stg_system model is a staging table in the
      SimulationsAnalyticsStage schema. It is populated with data from the
      sim2.tblSystems and sim2.tblSysGroup tables. The model includes columns
      for the system primary key, system name, system description, whether the
      system is affected, whether the system is active, the system group name,
      the time of the last change in the source system (HVRChangeTime), and the
      time the staging row was created. The model also logs the execution of the
      data loading process, including the number of rows inserted and deleted,
      the start and end time of the process, and any errors that occurred.
    columns:
      - name: SystemPKey
        description: This is the primary key for the system. It is a unique identifier
          for each system.
        data_type: int
        quote: true
      - name: SystemName
        description: This is the name of the system. It provides a human-readable name
          for each system.
        data_type: varchar
        quote: true
      - name: SystemDescription
        description: This is a description of the system. It provides additional details
          about the system.
        data_type: varchar
        quote: true
      - name: IsAffectedSystem
        description: A boolean flag indicating whether the system is affected by any
          changes or not.
        data_type: bit
        quote: true
      - name: IsSystemActive
        description: A boolean flag indicating whether the system is currently active or
          not.
        data_type: bit
        quote: true
      - name: SystemGroupName
        description: The name of the group to which the system belongs.
        data_type: varchar
        quote: true
      - name: HVRChangeTime
        description: This column represents the most recent change time for the system
          or system group. It is derived from the maximum change time between
          the system and system group. The data type is datetime.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDatetime
        description: This column represents the datetime when the staging process was
          executed. It is automatically set to the current system datetime at
          the time of execution. The data type is datetimeoffset(3).
        data_type: datetimeoffset
        quote: true

  - name: stg_time
    description: The stg_time model is a time dimension table that generates a list
      of every second in a day, from 00:00:00 to 23:59:59. It includes columns
      for the time key, time, hour, minute, second, AM/PM indicator, 24-hour
      format hour, 12-hour format hour, minute of the day, second of the day,
      period of the day (Morning, Afternoon, Evening, Night), and time in words.
    columns:
      - name: TimeKey
        description: This column represents the time value in seconds from the start of
          the day (00:00:00). It ranges from 0 to 86399, representing each
          second of a 24-hour day.
        data_type: bigint
        quote: true
      - name: Time
        description: This column represents the actual time of the day in HH:MM:SS
          format. It is derived from the 'TimeKey' column by adding the
          'TimeKey' value as seconds to the start of the day (00:00:00).
        data_type: time
        quote: true
      - name: Hour
        description: This column represents the hour part of the 'Time' column in
          24-hour format. It ranges from 0 to 23.
        data_type: int
        quote: true
      - name: Minute
        description: This column represents the minute part of the time. It is extracted
          from the time value and formatted as 'mm'.
        data_type: int
        quote: true
      - name: Second
        description: This column represents the second part of the time. It is extracted
          from the time value and formatted as 'ss'.
        data_type: int
        quote: true
      - name: ampm
        description: This column indicates whether the time is in the AM (Ante Meridiem,
          before midday) or PM (Post Meridiem, after midday) period of the day.
          It is determined based on the hour part of the time.
        data_type: varchar
      - name: Hour24
        description: This column represents the hour of the day in a 24-hour format. The
          value ranges from 0 to 23, where 0 represents midnight and 23
          represents the last hour of the day.
        data_type: int
        quote: true
      - name: Hour12
        description: This column represents the hour of the day in a 12-hour format. The
          value ranges from 1 to 12, where 1 represents the first hour of the
          day or afternoon, and 12 represents noon or midnight.
        data_type: int
        quote: true
      - name: MinuteOfDay
        description: This column represents the minute of the day. It is calculated by
          multiplying the hour of the day by 60 and adding the minute of the
          hour. The value ranges from 0 (at midnight) to 1439 (the last minute
          of the day).
        data_type: int
        quote: true
      - name: SecondOfDay
        description: This column represents the number of seconds that have passed since
          the start of the day (00:00:00). It is calculated by finding the
          difference in seconds between the current time and the start of the
          day.
        data_type: int
        quote: true
      - name: PeriodOfDay
        description: "This column categorizes the time of day into four periods:
          'Morning', 'Afternoon', 'Evening', and 'Night'. The categorization is
          based on the hour of the day. Morning is from 5 to 11, Afternoon is
          from 12 to 16, Evening is from 17 to 20, and Night is any other time."
        data_type: varchar
        quote: true
      - name: TimeInWords
        description: This column represents the time in a human-readable format. It is
          calculated by formatting the time value into a string that represents
          the hour and minute, followed by 'AM' or 'PM'.
        data_type: nvarchar
        quote: true


  - name: stg_project
    description: The stg_project model is a staging table that is used to store
      project data. It is populated from multiple source tables including
      project2.tblProject, project2.tblStatus, project2.tblProjType,
      project2.tblAccountingType, and employee2.tblEmployee. The model includes
      columns for project details, status, type, accounting type, and associated
      employee information. The data is inserted into the staging table based on
      a specific condition on the HvrChangeTime column. The model also includes
      logging and error handling mechanisms.
    columns:
      - name: ProjectPKey
        description: The primary key of the project. This is a unique identifier for
          each project.
        data_type: int
        quote: true
      - name: ProjectName
        description: The name of the project. This is a descriptive name that identifies
          the project.
        data_type: varchar
        quote: true
      - name: ProjectDescription
        description: A detailed description of the project. This provides more context
          about the project.
        data_type: varchar
        quote: true
      - name: ProjectStatusCode
        description: The unique code representing the current status of the project.
          This is a foreign key linking to the 'tblStatus' table in the
          'Project2' database.
        data_type: char
        quote: true
      - name: ProjectStatusDescription
        description: A descriptive text explaining the current status of the project.
          This is derived from the 'Description' column in the 'tblStatus' table
          in the 'Project2' database.
        data_type: char
        quote: true
      - name: ProjectTypeCode
        description: The unique code representing the type of the project. This is a
          foreign key linking to the 'tblProjType' table in the 'Project2'
          database.
        data_type: varchar
        quote: true
      - name: ProjectTypeDescription
        description: This column contains the description of the project type. It is
          derived from the 'tblProjType' table in the 'Project2' database.
        data_type: varchar
        quote: true
      - name: ReportTypeDescription
        description: This column contains the description of the report type. It is
          derived from the 'tblAccountingType' table in the 'Project2' database.
        data_type: varchar
        quote: true
      - name: IsEAC
        description: This column is a boolean flag indicating whether the project is an
          EAC (Estimate at Completion) project. It is derived from the
          'tblProject' table in the 'Project2' database.
        data_type: bit
        quote: true
      - name: IsStopDR
        description: A boolean flag indicating whether the project has been stopped or
          not. If the value is true, the project has been stopped. If the value
          is false, the project is ongoing.
        data_type: bit
        quote: true
      - name: ProjectManagerFirstName
        description: The first name of the project manager assigned to the project. This
          is a string value.
        data_type: varchar
        quote: true
      - name: ProjectManagerLastName
        description: The last name of the project manager assigned to the project. This
          is a string value.
        data_type: varchar
        quote: true
      - name: EffectiveDate
        description: The date when the project became effective. This is a datetime field.
        data_type: datetime
        quote: true
      - name: IsLatest
        description: A boolean field indicating whether the project is the latest
          version. True indicates it is the latest version, False indicates it
          is not.
        data_type: bit
        quote: true
      - name: ProjectCreateDate
        description: The date when the project was created. This is a datetime field.
        data_type: datetime
        quote: true
      - name: ProjectUpdateDate
        description: The date and time when the project was last updated. This is a
          datetime field.
        data_type: datetime
        quote: true
      - name: ProjectVersion
        description: The version of the project. This is an integer field that
          increments with each update to the project.
        data_type: int
        quote: true
      - name: HvrChangeTime
        description: The date and time when the last change was made to the project.
          This is a datetime field that is updated whenever a change is made to
          the project.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDatetime
        description: This column represents the date and time when the record was first
          created in the staging table. It is automatically populated with the
          current system date and time at the moment of record creation.
        data_type: datetimeoffset
        quote: true

  - name: stg_simulator_configuration
    description: The stg_simulator_configuration model is a staging table that
      stores the configuration details of a simulator. It includes columns for
      the primary keys of the simulator and its configuration, the name of the
      configuration, the location name, a flag indicating if the configuration
      is the default, timestamps for when the source was created and last
      updated, the change time from the HVR system, and timestamps for when the
      staging record was created and last updated. The data is sourced from the
      Sim2 and Employee2 databases, specifically the tblSim, tblObjectHier,
      tblClassLink, tblConfig, and tblLocation tables. The model includes a
      process for logging the execution of the data load, including the number
      of rows inserted and deleted, and any errors that occurred.
    columns:
      - name: SimulatorConfigurationPKey
        description: This is the primary key for the Simulator Configuration. It is a
          unique identifier for each configuration in the simulator.
        data_type: int
        quote: true
      - name: SimulatorPKey
        description: This is the primary key for the Simulator. It is a unique
          identifier for each simulator.
        data_type: int
        quote: true
      - name: ConfigurationName
        description: This is the name of the configuration in the simulator. It provides
          a descriptive label for each configuration.
        data_type: varchar
        quote: true
      - name: LocationName
        description: The name of the location where the simulation is being run. This is
          derived from the 'Employee2'.'dbo'.'tblLocation' table.
        data_type: varchar
        quote: true
      - name: IsDefault
        description: A boolean flag indicating whether the configuration is the default
          one for the simulator. This is derived from the
          'Sim2'.'dbo'.'tblConfig' table.
        data_type: bit
        quote: true
      - name: SourceCreatedDatetime
        description: The datetime when the source record was created. This is derived
          from the 'Sim2'.'dbo'.'tblConfig' table.
        data_type: datetime
        quote: true
      - name: SourceLastUpdatedDatetime
        description: This column represents the last updated datetime of the source data
          in the 'Sim2' database.
        data_type: datetime
        quote: true
      - name: HvrChangeTime
        description: This column represents the most recent change time across all the
          source tables involved in the query. It is used to track changes in
          the source data.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDatetime
        description: This column represents the datetime when the staging process was
          initiated. It is automatically set to the current system datetime when
          the staging process begins.
        data_type: datetimeoffset
        quote: true

  - name: stg_simulator_qualification
    description: The stg_simulator_qualification model is a staging table that holds
      data related to simulator qualifications. It includes columns for the
      primary keys of the simulator qualification, simulator configuration, and
      simulator. It also contains information about the qualification agency,
      qualification level, effective and expiry dates of the simulator
      qualification, and a description of the simulator qualification.
      Additional columns provide details about the process start date, scheduled
      requalification date, initial simulator qualification date, and whether
      the simulator qualification is deleted or hidden in reports. The model
      also includes information about the qualification level, ACCircular, and
      agency. Finally, it tracks the change time, creation time, and last update
      time of the staging data.
    columns:
      - name: SimulatorQualificationPKey
        data_type: int
        quote: true
        description: This is the primary key for the Simulator Qualification table. It
          is a unique identifier for each record in the table.
      - name: SimulatorConfigurationPKey
        data_type: int
        quote: true
        description: This is the primary key for the Simulator Configuration table. It
          is used to link the Simulator Qualification record to the
          corresponding Simulator Configuration record.
      - name: SimulatorPKey
        data_type: int
        quote: true
        description: This is the primary key for the Simulator table. It is used to link
          the Simulator Qualification record to the corresponding Simulator
          record.
      - name: QualificationAgencyId
        data_type: int
        quote: true
        description: The unique identifier for the agency that provided the qualification.
      - name: QualificationLevelId
        data_type: int
        quote: true
        description: The unique identifier for the level of qualification obtained.
      - name: SimulatorQualificationEffectiveDate
        data_type: date
        quote: true
        description: The date when the simulator qualification became effective.
      - name: SimulatorQualificationExpiryDate
        data_type: date
        quote: true
        description: The date when the simulator qualification expires. It is of date
          data type.
      - name: SimulatorQualificationDescription
        data_type: varchar
        quote: true
        description: A text description of the simulator qualification. It is of varchar
          data type.
      - name: SimulatorQualificationProcessStartDate
        data_type: date
        quote: true
        description: The date when the simulator qualification process started. It is of
          date data type.
      - name: ScheduledRequalificationDate
        data_type: date
        quote: true
        description: The date when the simulator is scheduled for requalification. This
          is a date field.
      - name: InitialSimulatorQualificationDate
        data_type: date
        quote: true
        description: The date when the simulator was initially qualified. This is a date
          field.
      - name: IsSimulatorQualificationDeleted
        data_type: bit
        quote: true
        description: A flag indicating whether the simulator qualification has been
          deleted. This is a bit field where 1 indicates that the qualification
          has been deleted and 0 indicates that it has not been deleted.
      - name: OriginalSimulatorQualificationProjectName
        data_type: varchar
        quote: true
        description: The name of the original project under which the simulator
          qualification was conducted.
      - name: IsHiddenInReport
        data_type: bit
        quote: true
        description: A boolean flag indicating whether the simulator qualification is
          hidden in reports. A value of 1 means it is hidden, and 0 means it is
          visible.
      - name: SimulatorQualificationLevelName
        data_type: varchar
        quote: true
        description: The name of the level of qualification for the simulator. This
          could be a specific certification or rating.
      - name: SimulatorQualificationLevelDescription
        data_type: varchar
        quote: true
        description: This column contains the description of the simulator qualification
          level. It is a string data type and can contain any alphanumeric
          characters.
      - name: IsQualificationLevelApproved
        data_type: bit
        quote: true
        description: This column indicates whether the qualification level is approved
          or not. It is a boolean data type and can contain either 1 (approved)
          or 0 (not approved).
      - name: ACCircularName
        data_type: varchar
        quote: true
        description: This column contains the name of the AC Circular associated with
          the simulator qualification. It is a string data type and can contain
          any alphanumeric characters.
      - name: IsACCircularApproved
        data_type: bit
        quote: true
        description: A bit field indicating whether the associated ACCircular is
          approved. 1 indicates approval, 0 indicates otherwise.
      - name: SimulatorQualificationAgencyName
        data_type: varchar
        quote: true
        description: The name of the agency that provided the qualification for the
          simulator.
      - name: SimulatorQualificationAgencyDescription
        data_type: varchar
        quote: true
        description: A description of the agency that provided the qualification for the
          simulator.
      - name: AgencySimulatorId
        data_type: varchar
        quote: true
        description: This column represents the unique identifier of the agency
          simulator. It is a varchar type field and is used to uniquely identify
          each simulator within an agency.
      - name: IsAgencyDomestic
        data_type: bit
        quote: true
        description: This column is a bit type field that indicates whether the agency
          is domestic or not. A value of 1 indicates that the agency is
          domestic, while a value of 0 indicates that the agency is not
          domestic.
      - name: AgencySponsorCountryCode
        data_type: int
        quote: true
        description: This column represents the country code of the agency sponsor. It
          is an integer type field and is used to identify the country of the
          agency sponsor.
      - name: IsAgencyDeleted
        data_type: bit
        quote: true
        description: A bit field indicating whether the agency is deleted. A value of 1
          means the agency is deleted, and a value of 0 means the agency is not
          deleted.
      - name: HvrChangeTime
        data_type: datetimeoffset
        quote: true
        description: The datetimeoffset field representing the most recent change time
          across multiple tables. This field is used to track changes in the
          data.
      - name: StageCreatedDatetime
        data_type: datetimeoffset
        quote: true
        description: The datetimeoffset field representing the time when the stage was
          created. This field is used to track when each record was inserted
          into the staging table.

models:
  - name: stg_simulator
    description: The stg_simulator model is a staging table that holds data related
      to simulators. It includes columns for the simulator's primary key, ID,
      name, creation date, last updated date, asset number, location ID, lead
      location ID, destination ID, ILS status, date ready for training,
      simulator type key, simulator type name, aircraft model key, aircraft
      model code, aircraft model name, aircraft model type value, aircraft type
      name, aircraft type description, status key, status name, track lost time,
      simulator group key, simulator group name, simulator group description,
      ship date, owner ID, owner customer ID, owner description, manufacturer
      ID, manufacturer name, change time, stage created datetime, and stage last
      updated datetime. The data is sourced from multiple tables in the Sim2
      database and is inserted into the SimulationsAnalyticsStage database. The
      model also logs the process execution and updates the StageTableLastUpdate
      table with the last updated timestamp.
    columns:
      - name: SimulatorPKey
        data_type: int
        quote: true
        description: The primary key of the simulator. This is a unique identifier for
          each simulator in the database.
      - name: SimulatorId
        data_type: int
        quote: true
        description: The ID of the simulator. This is a unique identifier for each
          simulator, but unlike the primary key, this ID is used in the
          application layer.
      - name: SimulatorName
        data_type: varchar
        quote: true
        description: The name of the simulator. This is a descriptive name for the
          simulator, which is used for display purposes in the application.
      - name: SourceCreatedDate
        data_type: datetime
        quote: true
        description: The date and time when the simulator record was first created in
          the source system.
      - name: SourceLastUpdatedDate
        data_type: datetime
        quote: true
        description: The date and time when the simulator record was last updated in the
          source system.
      - name: FSIAssetNumber
        data_type: nvarchar
        quote: true
        description: The unique identifier for the simulator asset in the FlightSafety
          International system.
      - name: LocationId
        data_type: int
        quote: true
        description: The unique identifier for the location where the simulator is
          currently placed.
      - name: LeadLocationId
        data_type: int
        quote: true
        description: The unique identifier for the lead location, which is the primary
          location responsible for the simulator.
      - name: DestinationId
        data_type: int
        quote: true
        description: The unique identifier for the destination where the simulator is
          intended to be moved or shipped.
      - name: IsILS
        data_type: int
        quote: true
        description: An integer column that indicates whether the simulator is equipped
          with an Instrument Landing System (ILS). A value of 1 indicates the
          presence of ILS, while 0 indicates its absence.
      - name: DateReadyForTraining
        data_type: datetime
        quote: true
        description: A datetime column that represents the date and time when the
          simulator is ready for training. It is stored in the UTC timezone.
      - name: SimulatorTypeKey
        data_type: int
        quote: true
        description: An integer column that serves as a unique identifier for the type
          of simulator. This key is used to join with the Simulator Type table
          to get more details about the type of simulator.
      - name: SimulatorTypeName
        data_type: varchar
        quote: true
        description: The name of the simulator type. This is a string value that
          represents the type of the simulator.
      - name: AircraftModelKey
        data_type: int
        quote: true
        description: The primary key of the aircraft model. This is an integer value
          that uniquely identifies the aircraft model in the database.
      - name: AircraftModelCode
        data_type: varchar
        quote: true
        description: The code of the aircraft model. This is a string value that
          represents the code of the aircraft model.
      - name: AircraftModelName
        data_type: varchar
        quote: true
        description: The name of the aircraft model associated with the simulator.
      - name: AircraftModelTypeValue
        data_type: int
        quote: true
        description: The unique identifier for the type of aircraft model associated
          with the simulator.
      - name: AircraftTypeName
        data_type: varchar
        quote: true
        description: The name of the type of aircraft model associated with the simulator.
      - name: AircraftTypeDescription
        data_type: varchar
        quote: true
        description: This column represents the description of the aircraft type. It is
          a string data type and can contain any alphanumeric characters.
      - name: StatusKey
        data_type: int
        quote: true
        description: This column represents the unique identifier for the status of the
          simulator. It is an integer data type and can contain any numeric
          value.
      - name: StatusName
        data_type: varchar
        quote: true
        description: This column represents the name of the status of the simulator. It
          is a string data type and can contain any alphanumeric characters.
      - name: TrackLostTime
        data_type: int
        quote: true
        description: This column represents the time lost due to any issues or problems
          with the simulator. It is measured in minutes.
      - name: SimulatorGroupKey
        data_type: int
        quote: true
        description: This column is a unique identifier for each simulator group. It is
          used to link the simulator to its respective group.
      - name: SimulatorGroupName
        data_type: varchar
        quote: true
        description: This column represents the name of the group to which the simulator
          belongs. It is a descriptive name that provides more context about the
          group.
      - name: SimulatorGroupDescription
        data_type: varchar
        quote: true
        description: This column contains the description of the simulator group. It is
          a varchar type field and can contain any alphanumeric characters.
      - name: ShipDate
        data_type: datetime
        quote: true
        description: This column contains the date when the simulator was shipped. It is
          a datetime type field and follows the standard date and time format.
      - name: OwnerId
        data_type: int
        quote: true
        description: This column contains the unique identifier of the owner of the
          simulator. It is an integer type field and contains only numeric
          values.
      - name: OwnerCustomerId
        data_type: varchar
        quote: true
        description: This column represents the unique customer ID of the owner of the
          simulator.
      - name: OwnerDescription
        data_type: varchar
        quote: true
        description: This column provides a description of the owner of the simulator.
      - name: ManufacturerId
        data_type: varchar
        quote: true
        description: This column represents the unique ID of the manufacturer of the
          simulator.
      - name: ManufacturerName
        data_type: varchar
        quote: true
        description: The name of the manufacturer of the simulator.
      - name: HvrChangeTime
        data_type: datetimeoffset
        quote: true
        description: The timestamp of the most recent change made to the simulator data
          across all source tables.
      - name: StageCreatedDatetime
        data_type: datetimeoffset
        quote: true
        description: The timestamp of when the staging record was created.

models:
  - name: stg_user
    description: The stg_user model is a staging table that holds user data
      extracted from the 'employee2.tblEmployee' source table. The model is
      designed to filter out test users and only include employees with a
      non-zero employee number. The data is then inserted into the
      'SimulationsAnalyticsStage.dbo.StageUser' table. The model also logs the
      process execution details such as the number of rows inserted, deleted,
      and the final row count in the
      'SimulationsAnalyticsLogging.dbo.DBTProcessExecutionLog' table. If the
      process is successful, the 'StageTableLastUpdate' table in the
      'SimulationsAnalyticsLogging.dbo' schema is updated with the current
      timestamp. If the process fails, an error message is raised.
    columns:
      - name: EmployeePKey
        data_type: int
        quote: true
        description: This is the primary key for the employee. It is an integer value
          that uniquely identifies each employee in the database.
      - name: EmployeeNumber
        data_type: int
        quote: true
        description: This is the unique number assigned to each employee. It is an
          integer value that is unique for each employee.
      - name: UserFirstName
        data_type: varchar
        quote: true
        description: This is the first name of the user. It is a string value that
          represents the first name of the employee.
      - name: UserLastName
        data_type: varchar
        quote: true
        description: This column stores the last name of the user. It is a variable
          character field that can contain any type of characters.
      - name: HvrChangeTime
        data_type: datetimeoffset
        quote: true
        description: This column stores the time when the last change was made to the
          user's record. It is a datetimeoffset field that can store dates along
          with time zone information.
      - name: StageCreatedDatetime
        data_type: datetimeoffset
        quote: true
        description: This column stores the date and time when the record was created in
          the staging table. It is a datetimeoffset field that can store dates
          along with time zone information.
