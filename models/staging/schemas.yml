models:
  - name: stg_user
    description: The stg_user model is a staging table that holds user data
      extracted from the 'employee2.tblEmployee' source table. The model is
      designed to filter out test users and only include employees with a
      non-zero employee number. The data is then inserted into the
      'SimulationsAnalyticsStage.dbo.StageUser' table. The model also logs the
      process execution details such as the number of rows inserted, deleted,
      and the final row count in the
      'SimulationsAnalyticsLogging.dbo.DBTProcessExecutionLog' table. If the
      process is successful, the 'StageTableLastUpdate' table in the
      'SimulationsAnalyticsLogging.dbo' schema is updated with the current
      timestamp. If the process fails, an error message is raised.
    columns:
      - name: EmployeePKey
        data_type: int
        quote: true
        description: This is the primary key for the employee. It is an integer value
          that uniquely identifies each employee in the database.
      - name: EmployeeNumber
        data_type: int
        quote: true
        description: This is the unique number assigned to each employee. It is an
          integer value that is unique for each employee.
      - name: UserFirstName
        data_type: varchar
        quote: true
        description: This is the first name of the user. It is a string value that
          represents the first name of the employee.
      - name: UserLastName
        data_type: varchar
        quote: true
        description: This column stores the last name of the user. It is a variable
          character field that can contain any type of characters.
      - name: HvrChangeTime
        data_type: datetimeoffset
        quote: true
        description: This column stores the time when the last change was made to the
          user's record. It is a datetimeoffset field that can store dates along
          with time zone information.
      - name: StageCreatedDatetime
        data_type: datetimeoffset
        quote: true
        description: This column stores the date and time when the record was created in
          the staging table. It is a datetimeoffset field that can store dates
          along with time zone information.
  - name: stg_time
    description: The stg_time model is a time dimension table that generates a row
      for each second of the day, resulting in 86400 rows. It includes columns
      for the time key, time, hour, minute, second, AM/PM indicator, 24-hour
      format hour, 12-hour format hour, minute of the day, second of the day,
      period of the day (morning, afternoon, evening, night), time in words, and
      timestamps for when the row was last changed and created. This model is
      useful for time-based analysis and reporting.
    columns:
      - name: TimeKey
        description: This column represents the time value in seconds from the start of
          the day (00:00:00). It ranges from 0 to 86399, representing each
          second of a 24-hour day.
        data_type: bigint
        quote: true
      - name: Time
        description: This column represents the actual time of the day in the format
          HH:MM:SS. It is derived from the TimeKey column by converting the
          seconds into a time format.
        data_type: time
        quote: true
      - name: Hour
        description: This column represents the hour part of the time. It is derived
          from the TimeKey column by converting the seconds into hours. The
          value ranges from 0 to 23, representing the 24 hours of a day.
        data_type: int
        quote: true
      - name: Minute
        description: This column represents the minute component of the time. It is
          extracted from the TimeValue column, which is a running count of
          seconds from '00:00:00'. The minute is formatted as a two-digit
          string.
        data_type: int
        quote: true
      - name: Second
        description: This column represents the second component of the time. It is
          extracted from the TimeValue column, which is a running count of
          seconds from '00:00:00'. The second is formatted as a two-digit
          string.
        data_type: int
        quote: true
      - name: ampm
        description: This column indicates whether the time is in the AM (Ante Meridiem)
          or PM (Post Meridiem) period of the day. It is determined based on the
          hour component of the time, with hours less than 12 being AM and hours
          12 and above being PM.
        data_type: varchar
      - name: Hour24
        description: This column represents the hour of the day in a 24-hour format. It
          ranges from 0 to 23, where 0 represents midnight and 23 represents the
          last hour of the day.
        data_type: int
        quote: true
      - name: Hour12
        description: This column represents the hour of the day in a 12-hour format. It
          ranges from 1 to 12, where 1 represents the first hour of the day or
          afternoon, and 12 represents noon or midnight.
        data_type: int
        quote: true
      - name: MinuteOfDay
        description: This column represents the minute of the day, calculated as the
          hour (in 24-hour format) multiplied by 60 plus the minute of the hour.
          It ranges from 0 (representing midnight) to 1439 (representing the
          last minute of the day).
        data_type: int
        quote: true
      - name: SecondOfDay
        description: This column represents the number of seconds that have passed since
          the start of the day (00:00:00). It is calculated by finding the
          difference in seconds between the current time and the start of the
          day.
        data_type: int
        quote: true
      - name: PeriodOfDay
        description: "This column categorizes the time of day into four periods:
          'Morning', 'Afternoon', 'Evening', and 'Night'. The categorization is
          based on the hour of the day. Morning is from 5 to 11, Afternoon is
          from 12 to 16, Evening is from 17 to 20, and Night is any other time."
        data_type: varchar
        quote: true
      - name: TimeInWords
        description: This column represents the time in a human-readable format. It is
          formatted as 'h:mm tt', where 'h' is the hour, 'mm' is the minute, and
          'tt' is either 'AM' or 'PM'.
        data_type: nvarchar
        quote: true
      - name: HVRChangeTime
        description: This column represents the time at which the data in the row was
          changed. It is stored as a DATETIMEOFFSET(3) data type, which includes
          the date, time, and time zone offset.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDatetime
        description: This column represents the time at which the row was created in the
          staging table. It is also stored as a DATETIMEOFFSET(3) data type,
          which includes the date, time, and time zone offset.
        data_type: datetimeoffset
        quote: true
  - name: stg_date
    description: The stg_date model is a date dimension table that generates a row
      for each day from 1950-01-01 to 2050-12-31. It includes columns for the
      date key, calendar date, accounting period key, accounting period name,
      accounting period start date, accounting period end date, year, quarter,
      month, month name, month abbreviation, day, day of week, day name, a
      boolean flag for weekends, week of year, and timestamps for when the row
      was last changed and created.
    columns:
      - name: DateKey
        description: An integer representation of the date in the format 'yyyyMMdd'.
          This key is unique for each date and can be used for joining with
          other tables.
        data_type: int
        quote: true
      - name: CalendarDate
        description: The actual date value in the 'yyyy-mm-dd' format. This column
          represents the calendar date for each record in the table.
        data_type: datetime
        quote: true
      - name: AccountingPeriodKey
        description: A unique key representing the accounting period for each date. It
          is calculated as the year multiplied by 100 plus the month of the
          date. This key can be used for aggregating data on a monthly basis.
        data_type: int
        quote: true
      - name: AccountingPeriodName
        description: This column represents the accounting period in a 'Month Year'
          format. It is derived from the 'Date' column and is stored as a
          VARCHAR(50).
        data_type: varchar
        quote: true
      - name: AccountingPeriodStartDate
        description: This column represents the start date of the accounting period. It
          is derived from the 'Date' column and is stored as a DATE. The date is
          the first day of the month for the given 'Date'.
        data_type: date
        quote: true
      - name: AccountingPeriodEndDate
        description: This column represents the end date of the accounting period. It is
          derived from the 'Date' column and is stored as a DATE. The date is
          the last day of the month for the given 'Date'.
        data_type: date
        quote: true
      - name: Year
        description: The 'Year' column represents the year part of the date. It is
          extracted from the 'Date' column and is of integer data type.
        data_type: int
        quote: true
      - name: Quarter
        description: The 'Quarter' column represents the quarter of the year for the
          given date. It is calculated using the DATEPART function on the 'Date'
          column and is of integer data type.
        data_type: int
        quote: true
      - name: Month
        description: The 'Month' column represents the month part of the date. It is
          extracted from the 'Date' column and is of integer data type.
        data_type: int
        quote: true
      - name: MonthName
        description: The full name of the month for the given date. This is derived from
          the 'Date' column and is formatted as a string.
        data_type: nvarchar
        quote: true
      - name: MonthAbbreviation
        description: The abbreviated name of the month for the given date. This is
          derived from the 'Date' column and is formatted as a string. The
          abbreviation is the first three letters of the full month name.
        data_type: nvarchar
        quote: true
      - name: Day
        description: The day of the month for the given date. This is derived from the
          'Date' column and is formatted as an integer.
        data_type: int
        quote: true
      - name: DayOfWeek
        description: This column represents the day of the week for each date in the
          dataset. The values range from 1 (Sunday) to 7 (Saturday).
        data_type: int
        quote: true
      - name: DayName
        description: This column contains the full name of the day of the week for each
          date in the dataset. The values are 'Sunday', 'Monday', 'Tuesday',
          'Wednesday', 'Thursday', 'Friday', and 'Saturday'.
        data_type: nvarchar
        quote: true
      - name: IsWeekend
        description: This column is a binary indicator of whether the date falls on a
          weekend. The value is 1 if the date is either a Saturday or Sunday,
          and 0 otherwise.
        data_type: int
        quote: true
      - name: WeekOfYear
        description: The 'WeekOfYear' column represents the week number of the year for
          the given date. It is calculated using the DATEPART function in SQL,
          which extracts the week from the date.
        data_type: int
        quote: true
      - name: HVRChangeTime
        description: The 'HVRChangeTime' column represents the time at which the record
          was last changed. It is generated using the SYSDATETIMEOFFSET function
          in SQL, which returns the current date and time with the time zone
          offset.
        data_type: datetimeoffset
        quote: true
      - name: StageCreatedDatetime
        description: The 'StageCreatedDatetime' column represents the time at which the
          record was created in the staging table. It is also generated using
          the SYSDATETIMEOFFSET function in SQL, which returns the current date
          and time with the time zone offset.
        data_type: datetimeoffset
        quote: true
